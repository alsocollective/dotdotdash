{% extends "base.html" %}

{% block css %}
<link rel="stylesheet" type="text/css" href="/../static/css/style.css">
{% endblock %}

{% block content %}
<nav>
	<img src="/../static/assests/logo.png">
	<ul id="stickNav">
		<li id="aboutLink"><a href="#about">About</a></li>
		<li id="serviceLink"><a href="#services">Services</a></li>
		<li id="clientsLink"><a href="#clients">Clients</a></li>
		<li id="ourWorkLink"><a href="#work">Our Work</a></li>
		<li id="contactLink"><a href="#contact">Contact</a></li>
	</ul>
</nav>

{{home.mp4}}
{{home.ogv}}
{{home.webm}}

<!-- do not add spaces between these elements -->
<section class="quote"><div id="quote1">{{home.q1|safe}}</div></section>
<section class="quote"><div id="quote2">{{home.q2|safe}}</div></section>
<!-- {{home}} -->

<section id="about">
	<div class="backgroundImage"  style="background-image: url('/../static/uploaded/{{about.bkImg}}')"></div>
	<h1>About</h1>
	<p>{{about.about|safe}}</p>
	<h1>Process</h1>
	<p>{{about.process|safe}}</p>
</section>
<!-- {{about}} -->

<section id="services">
	<div id="servicebackgrounds">
		<div class="backgroundImage"  style="background-image: url('/../static/uploaded/{{services.services.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.smsp.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.branding.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.research.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.creativedev.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.contentproduction.image}}')"></div>
		<div class="backgroundImage noshow"  style="background-image: url('/../static/uploaded/{{services.resultsanalytics.image}}')"></div>
	</div>
	<div id="servicescontent" class="servicesection">
		<h3>Services</h3>
		<p>{{services.services.text|safe}}</p>
	</div>
	<div id="smsp" class="servicesection noshow">
		<h3>Social Media Strategy Planning</h3>
		<p>{{services.smsp.text|safe}}</p>
	</div>
	<div id="branding" class="servicesection noshow">
		<h3>Branding</h3>
		<p>{{services.branding.text|safe}}</p>
	</div>
	<div id="research" class="servicesection noshow">
		<h3>research</h3>
		<p>{{services.research.text|safe}}</p>
	</div>
	<div id="creativedev" class="servicesection noshow">
		<h3>Creative Development</h3>
		<p>{{services.creativedev.text|safe}}</p>
	</div>
	<div id="contentproduction" class="servicesection noshow">
		<h3>Content Production</h3>
		<p>{{services.contentproduction.text|safe}}</p>
	</div>
	<div id="resultsanalytics" class="servicesection noshow">
		<h3>Results Analytics</h3>
		<p>{{services.resultsanalytics.text|safe}}</p>
	</div>
	<div id="buttoncontainer">
		<a href="#smsp" id="smsp"><img src="/../static/assests/social.png"></a>
		<a href="#branding" id="branding"><img src="/../static/assests/branding.png"></a>
		<a href="#research" id="research"><img src="/../static/assests/research.png"></a>
		<a href="#creativedev" id="creativedev"><img src="/../static/assests/creative.png"></a>
		<a href="#contentproduction" id="contentproduction"><img src="/../static/assests/content.png"></a>
		<a href="#resultsanalytics" id="resultsanalytics"><img src="/../static/assests/analytics.png"></a>
	</div>
</section>
<!-- {{services}} -->

<section id="clients">
	<h1>Clients</h1>
	<p>{{clients.text|safe}}</p>
	<div>
		{% for img in clients.images%}
			<a href="{{img.link}}"><img src="/../static/uploaded/{{img.title}}"></a>
		{% endfor %}
	</div>
</section>
<!-- {{clients}} -->

<section id="work">
{% for project in work %}
	<div>
		<h2>{{project.title}}</h2>
		<h3>{{project.subtitle}}</h3>
		<p>{{project.description}}</p>
		{{project}}</div>
{% endfor %}
</section>

<section id="contact">
	<h1>Contact</h1>
	{{contact.text}}
</section>

{% endblock %}


{% block js %}

<script src="/../static/js/jquery.min.js"></script>
<script src="/../static/js/waypoints.min.js"></script>
<script src="/../static/js/waypoints-sticky.js"></script>
<script src="/../static/js/script.js"></script>

<script type="text/javascript">
//sticky elements
$("#stickNav").waypoint('sticky');
$('.backgroundImage').waypoint('sticky',{
	wrapper: '<div class="background-wrapper" />',
});

//scrolling effect for nav
softScroll("aboutLink","about")
softScroll("serviceLink","services")
softScroll("clientsLink","clients")
softScroll("ourWorkLink","work")
softScroll("contactLink","contact")

//fading quotes
var fadingElement = [
	new FadeingObject("quote1"),
	new FadeingObject("quote2")
]

var scrollLocation = $(document).scrollTop();

function fadingResized(){
	for(var a = 0; a < fadingElement.length; ++a){
		fadingElement[a].resized();
		fadingElement[a].makeFade(scrollLocation,200);
	}
}
fadingResized();




$(window).scroll(function(eForEvent){
	scrollLocation = $(document).scrollTop();
	for(var a = 0; a < fadingElement.length; ++a){
		fadingElement[a].makeFade(scrollLocation,200);
	}
});

$(window).bind("resize",function(){
	fadingResized();
	windowHeight = $(window).height();
	for(var a =0; a < serviceBackgrounds.length; ++a){
		serviceBackgrounds[a].style.height = windowHeight;
	}
});

var serviceSection= $(".servicesection");
var serviceBackgrounds = $("#servicebackgrounds").children();
var windowHeight = $(window).height();
for(var a =0; a < serviceBackgrounds.length; ++a){
	serviceBackgrounds[a] = $(serviceBackgrounds[a]).children()[0];
	serviceBackgrounds[a].style.height = windowHeight;
}

var buttons = $("#buttoncontainer").children();

buttons.each(function(index){
	$(buttons[index]).click(function(){
		event.preventDefault();
		hideServicesBut(this);
	});

})


function hideServicesBut(thisEl){
	serviceSection.each(function(index){
		if(serviceSection[index].id == thisEl.id){
			$(serviceSection[index]).removeClass("noshow");
			$(serviceBackgrounds[index]).removeClass("noshow");
		} else if(!$(serviceSection[index]).hasClass("noshow")){
			$(serviceSection[index]).addClass("noshow");
			$(serviceBackgrounds[index]).addClass("noshow");
		}
	});
}

</script>

{% endblock %}
